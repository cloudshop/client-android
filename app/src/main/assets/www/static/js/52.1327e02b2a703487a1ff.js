webpackJsonp([52],{jdU3:function(t,a){},vCWf:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("mvHQ"),s=e.n(o),n=e("Au9i"),i={components:{Loadmore:n.Loadmore},data:function(){return{num:0,arr:null,id:null,seekContent:"",name:null,flag:!0,faleg:!1,allLoaded:!1,bottomStatus:"",topStatus:"",wrapperHeight:0,pageNum:0,pageSize:5,page:1,falgs:!0}},methods:{details:function(t){var a={func:"openURL",param:{URL:"/#/Product?id="+t}},e=navigator.userAgent,o=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);try{n?window.webkit.messageHandlers.GongrongAppModel.postMessage(a):o&&window.androidObject.JSCallAndroid(s()(a))}catch(a){var i=window.location.origin;window.location.href=i+"/#/Product?id="+t}},seekAll:function(){console.log(this.seekContent),this.name=sessionStorage.getItem("name");var t=this;this.$axios({method:"post",url:"product/api/product/all",data:{categoryId:this.name,pageNum:1,pageSize:10,productName:this.seekContent},headers:{"Content-Type":"application/json"}}).then(function(a){0==a.data.mainContent.length?(t.faleg=!0,t.falgs=!1):(t.arr=a.data.mainContent,t.faleg=!1)}).catch(function(t){console.log(t)})},back:function(){var t={func:"closeCurrent",param:{refreshParent:!0}},a=navigator.userAgent,e=a.indexOf("Android")>-1||a.indexOf("Adr")>-1;!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.GongrongAppModel.postMessage(t):e&&window.androidObject.JSCallAndroid(s()(t))},GetParams:function(t){this.id=JSON.parse(t),this.getDatas()},GetParams2:function(t){var a=t.split("=");this.id=a[1],this.getDatas()},getDatas:function(){var t=this;this.$axios.post("product/api/product/all",{categoryId:this.id,pageNum:this.page,pageSize:this.pageSize}).then(function(a){console.log(a);var e=a.data.mainContent.length;t.pageNum=e,t.arr=a.data.mainContent}).catch(function(t){console.log(t)})},getMoreData:function(){var t=this;this.$axios.post("product/api/product/all",{categoryId:this.id.DetailsTwo,pageNum:this.page,pageSize:this.pageSize}).then(function(a){var e=a.data.mainContent.length;t.pageNum=e;for(var o=0;o<e;o++)t.arr.push(a.data.mainContent[o])}).catch(function(t){console.log(t)})},handleBottomChange:function(t){this.bottomStatus=t},handleTopChange:function(t){this.topStatus=t},loadBottom:function(){var t=this;setTimeout(function(){t.pageNum===t.pageSize?(t.page+=1,t.getMoreData()):t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()},1500)},loadTop:function(){var t=this;setTimeout(function(){t.page=1,t.allLoaded=!1,t.getDatas(),t.$refs.loadmore.onTopLoaded()},1500)}},watch:{seekContent:function(t){0==t.length&&(this.arr="",this.faleg=!1)}},created:function(){},mounted:function(){var t=navigator.userAgent,a=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,e=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);try{e?window.webkit.messageHandlers.GongrongAppModel.postMessage(val):a&&window.androidObject.JSCallAndroid(s()(val)),window.GetParams=this.GetParams}catch(t){var o=window.location.hash;this.GetParams2(o)}}},r={render:function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"detailsTwo"},[o("div",{staticClass:"classify_search_header"},[o("div",{staticClass:"classify_search_ss"},[o("em",{on:{click:t.back}},[t._v("<")]),t._v(" "),o("span",[t._v("商品列表")])])]),t._v(" "),o("div",{staticClass:"tabCon"},[o("div",{staticClass:"content"},[o("div",{ref:"wrapper",staticClass:"page-loadmore-wrapper",style:{height:t.wrapperHeight+"px"}},[o("mt-loadmore",{ref:"loadmore",attrs:{"auto-fill":!1,"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded},on:{"top-status-change":t.handleTopChange,"bottom-status-change":t.handleBottomChange}},[t._l(t.arr,function(a,e){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.falgs,expression:"falgs"}],key:e,staticClass:"tabCon_main",attrs:{data:a.id},on:{click:function(e){t.details(a.id)}}},[o("div",{staticClass:"tabCon_main_left"},[o("img",{attrs:{src:a.url,alt:""}})]),t._v(" "),o("div",{staticClass:"tabCon_main_right"},[o("h4",{staticClass:"h4"},[t._v(t._s(a.NAME))]),t._v(" "),o("div",{staticClass:"tabCon_main_right_all"},[o("p",[t._v("￥"+t._s(a.listPrice))])])])])}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.faleg,expression:"faleg"}],staticClass:"pageNull"},[o("p",[o("img",{attrs:{src:e("TA9n"),alt:""}})]),t._v(" "),o("p",[t._v("非常抱歉")]),t._v(" "),o("p",[t._v("没有搜索到该商品~")])]),t._v(" "),o("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[o("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.topStatus}},[t._v("↓")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[o("mt-spinner",{attrs:{type:"snake"}})],1)]),t._v(" "),o("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[o("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[o("mt-spinner",{attrs:{type:"snake"}})],1)])],2)],1)])])])},staticRenderFns:[]};var d=e("VU/8")(i,r,!1,function(t){e("jdU3")},"data-v-2e58692e",null);a.default=d.exports}});