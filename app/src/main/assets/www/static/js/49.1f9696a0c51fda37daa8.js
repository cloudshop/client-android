webpackJsonp([49],{"1SMY":function(t,a){},wZJN:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("Au9i"),s={components:{Loadmore:o.Loadmore},data:function(){return{arr:"null",brr:"null",time:[],allLoaded:!1,bottomStatus:"",topStatus:"",wrapperHeight:0,pageNum:0,pageSize:10,page:0}},created:function(){var t=this;this.$axios.get("wallet/api/wallets/user").then(function(a){t.arr=a.data}).catch(function(t){console.log(t)}),this.getDatas()},methods:{date:function(t){var a=t.getFullYear(),e=t.getMonth()+1,o=e<10?"0"+e:e,s=t.getDate(),n=s<10?"0"+s:s,i=t.getHours(),r=t.getMinutes(),l=r<10?"0"+r:r,d=t.getSeconds(),u=a+"-"+o+"-"+n+"　"+i+":"+l+":"+(d<10?"0"+d:d);return u},getDatas:function(){var t=this;this.$axios.get("wallet/api/wallet/details/integral?page="+this.page+"&size="+this.pageSize+"&sort=createdTime%2Cdesc").then(function(a){a.data.map(function(a){var e=a.createdTime,o=new Date(e),s=t.date(o);a.createdTime=s});var e=a.data.length;t.pageNum=e,t.brr=a.data}).catch(function(t){console.log(t)})},getMoreData:function(){var t=this;this.$axios.get("wallet/api/wallet/details/integral?page="+this.page+"&size="+this.pageSize+"&sort=createdTime%2Cdesc").then(function(a){a.data.map(function(a){var e=a.createdTime,o=new Date(e),s=t.date(o);a.createdTime=s});var e=a.data.length;t.pageNum=e;for(var o=0;o<e;o++)t.brr.push(a.data[o])}).catch(function(t){console.log(t)})},handleBottomChange:function(t){this.bottomStatus=t},handleTopChange:function(t){this.topStatus=t},loadBottom:function(){var t=this;setTimeout(function(){t.pageNum===t.pageSize?(t.page+=1,t.getMoreData()):t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()},1500)},loadTop:function(){var t=this;setTimeout(function(){t.page=0,t.allLoaded=!1,t.getDatas(),t.$refs.loadmore.onTopLoaded()},1500)}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"RemainingSum"},[e("header",{staticClass:"mint-header"},[e("div",{staticClass:"mint-header-button is-left"},[e("a",{staticClass:"router-link-active"},[e("router-link",{staticClass:"mint-button mint-button--default mint-button--normal",attrs:{to:{path:"/Mine"},tag:"button"}},[e("mt-button",{attrs:{icon:"back"}})],1)],1)]),t._v(" "),e("h1",{staticClass:"mint-header-title"},[t._v("积分")]),t._v(" "),e("div",{staticClass:"mint-header-button is-right"})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"banner"},[e("p",[t._v("积分")]),t._v(" "),e("h2",[t._v(t._s(t.arr.integral))])]),t._v(" "),e("div",{ref:"wrapper",staticClass:"page-loadmore-wrapper",style:{height:t.wrapperHeight+"px"}},[e("mt-loadmore",{ref:"loadmore",attrs:{"auto-fill":!1,"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded},on:{"top-status-change":t.handleTopChange,"bottom-status-change":t.handleBottomChange}},[e("div",{staticClass:"main"},t._l(t.brr,function(a){return e("ul",{staticClass:"list"},[e("li",[e("p",[e("span",[t._v(t._s(a.createdTime))]),e("span")]),t._v(" "),e("p",[e("b",[t._v(t._s(a.typeString))]),e("b",[t._v(t._s(a.integral))])])])])})),t._v(" "),e("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.topStatus}},[t._v("↓")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[e("mt-spinner",{attrs:{type:"snake"}})],1)]),t._v(" "),e("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[e("mt-spinner",{attrs:{type:"snake"}})],1)])])],1)])])},staticRenderFns:[]};var i=e("VU/8")(s,n,!1,function(t){e("1SMY")},"data-v-3a92abfd",null);a.default=i.exports}});