webpackJsonp([20],{"2eZn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4Eqp"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header",{staticClass:"header"},[a("ul",[a("li",{on:{click:e.back}},[a("span",[e._v("<")])]),e._v(" "),a("li",[e._v("选择支付方式")]),e._v(" "),a("li")])]),e._v(" "),a("div",{staticClass:"center"},[a("p",{staticClass:"center_top"},[e._v("请您尽快完支付 "),a("span",[a("i",[e._v(e._s(this.$route.params.payment))]),e._v("元")])]),e._v(" "),a("div",{staticClass:"change"},[a("p",{staticClass:"one"},[a("img",{attrs:{src:n("tSdY"),alt:""}}),e._v(" "),a("ul",[e._m(0),e._v(" "),a("li",[a("i",{staticClass:"now"},[e._v(e._s(e.money))]),e._v(" "),a("span",{staticClass:"nomoney"},[e._v("(余额不足)")])])]),e._v(" "),e._m(1)]),e._v(" "),e._m(2),e._v(" "),e._m(3)]),e._v(" "),a("button",{staticClass:"botton",on:{click:e.pay}},[e._v("\n               确认支付（"),a("span"),e._v("元）\n           ")])]),e._v(" "),a("div",{staticClass:"del"},[a("div",[e._v("\n             "+e._s(e.type)+"\n         ")]),e._v(" "),a("p",[a("span",{staticClass:"yes",on:{click:e.q}},[e._v("确定")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v(" 余额(需支付"),t("b",{staticClass:"need"}),this._v("元)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("input",{attrs:{type:"radio",id:"yue",name:"sex",value:"余额",checked:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"two"},[t("img",{attrs:{src:n("WUXe"),alt:""}}),this._v(" "),this._v("\n              支付宝\n              "),t("span",[t("input",{attrs:{type:"radio",id:"zhifubao",name:"sex",value:"支付宝"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"two"},[t("img",{attrs:{src:n("5fGY"),alt:""}}),this._v(" "),this._v("\n              微信\n              "),t("span",[t("input",{attrs:{type:"radio",id:"zhifubao",name:"sex",value:"微信"}})])])}]};var o=function(e){n("JiON")},i=n("VU/8")(a.a,s,!1,o,"data-v-d4bd269c",null);t.default=i.exports},"4Eqp":function(e,t,n){"use strict";(function(e){var a=n("mvHQ"),s=n.n(a),o=n("mtWM");n.n(o);t.a={data:function(){return{payment:this.$route.params.payment,postFee:this.$route.params.postFee,buyerMessage:this.$route.params.buyerMessage,buyerNick:this.$route.params.buyerNick,shopId:this.$route.params.shopId,productSkuId:this.$route.params.productSkuId,count:this.$route.params.count,price:this.$route.params.price,data:null,money:null,type:null,took:null,web:null}},methods:{cancel:function(){e(".del").hide()},q:function(){var t={func:"openURL",param:{URL:"/#/indentAll"}},n=navigator.userAgent,a=n.indexOf("Android")>-1||n.indexOf("Adr")>-1;!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.GongrongAppModel.postMessage(t):a&&window.androidObject.JSCallAndroid(s()(t)),e(".del").hide()},OpenindentAll:function(){},back:function(){this.$router.push({name:"ConfirmAnOrder"})},payStatus:function(t,n){this.init=n,e(".del").show(),this.type=t,"success"==this.type?this.type="支付成功":"cancel"==this.type?this.type="用户取消":"failed"==this.type?this.type="支付失败":"unknown"==this.type&&(this.type="未知状态")},pay:function(){var t=this,n=e('input:radio[name="sex"]:checked').val();if("余额"==n){var a={payment:t.payment,postFee:t.postFee,paymentType:1,buyerMessage:t.buyerMessage,buyerNick:t.buyerNick,shopId:Number(t.shopId),proOrderItems:[{productSkuId:Number(t.productSkuId),count:Number(t.count),price:Number(t.price)}]};this.$axios({method:"post",url:"order/api/depproorders/1",data:a}).then(function(e){t.web=e.data,this.$axios({method:"post",url:"wallet/api/wallets/balance/pay",data:{orderNo:t.web,password:123456}}).then(function(e){""==e.data&&t.payStatus("success")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else if("支付宝"==n){a={payment:t.payment,postFee:t.postFee,paymentType:2,buyerMessage:t.buyerMessage,buyerNick:t.buyerNick,shopId:Number(t.shopId),proOrderItems:[{productSkuId:Number(t.productSkuId),count:Number(t.count),price:Number(t.price)}]};this.$axios({method:"post",url:"order/api/depproorders/1",data:a}).then(function(e){t.took=e.data;var n={func:"pay",param:{payType:"Ali",orderStr:t.took}},a=navigator.userAgent,o=a.indexOf("Android")>-1||a.indexOf("Adr")>-1;!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.GongrongAppModel.postMessage(n):o&&window.androidObject.JSCallAndroid(s()(n))}).catch(function(e){console.log(e)})}if("微信"==n){a={payment:t.payment,postFee:t.postFee,paymentType:3,buyerMessage:t.buyerMessage,buyerNick:t.buyerNick,shopId:Number(t.shopId),proOrderItems:[{productSkuId:Number(t.productSkuId),count:Number(t.count),price:Number(t.price)}]};this.$axios({method:"post",url:"order/api/depproorders/1",data:a}).then(function(e){t.took=e.data;var n={func:"pay",param:{payType:"Wechat",orderStr:t.took}},a=navigator.userAgent,o=a.indexOf("Android")>-1||a.indexOf("Adr")>-1;!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.GongrongAppModel.postMessage(n):o&&window.androidObject.JSCallAndroid(s()(n))}).catch(function(e){console.log(e)})}}},created:function(){this.money=sessionStorage.getItem("money")},mounted:function(){window.payStatus=this.payStatus,window.OpenindentAll=this.OpenindentAll,e(".nomoney").hide();var t=e(".center_top i").text();e(".need").text(t),e(".botton span").text(t);var n=e(".now").text();Number(t)>Number(n)?(e(".nomoney").show(),e(".one").css("color","#c8c8c8"),e(".one input").attr("disabled","disabled"),e(".two input").attr("checked","checked")):e(".nomoney").hide()}}}).call(t,n("7t+N"))},"5fGY":function(e,t,n){e.exports=n.p+"static/img/微信.072aad3.png"},JiON:function(e,t){}});